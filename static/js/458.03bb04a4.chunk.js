"use strict";(self.webpackChunkgoit_react_hw_08_phonebook_typescript=self.webpackChunkgoit_react_hw_08_phonebook_typescript||[]).push([[458],{155:(e,t,r)=>{r.d(t,{Y:()=>n,f:()=>a});var o=r(8007);const a=o.Ry().shape({name:o.Z_().min(1).max(18).required().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0457\u0491\u0406\u0407\u0490].*$/,"Name must start with letters"),phone:o.Z_().min(7).max(18).required().matches(/^\+?(\d{2}-?\d{3}-?\d{3}-?\d{2}-?\d{2})$|^\d{7}$|^\d{10}$|^\+?\d{12}$/,"Number must have 7, 10 or 12 digits")}),n=o.Ry().shape({name:o.Z_().min(2,"Name should be at least 2 characters").max(16,"Name should not exceed 16 characters").required("Name is required"),email:o.Z_().email("Please enter a valid email address").required("Email is required"),password:o.Z_().min(7,"Password should be at least 7 characters long").required("Password is required"),confirmPassword:o.Z_().oneOf([o.iH("password"),void 0],"Passwords must match").required("Please confirm your password")})},5458:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var o=r(5705),a=r(155),n=r(5486),l=r(1545),s=r(3853),d=r(8454),m=r(184);const c=()=>{const{isThemeDark:e}=(0,d.F)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("label",{htmlFor:"name",className:"mt-2 text-xl flex items-center gap-2 md:ml-2 md:w-10/12\n      md2:text-sm font-light sm:mt-1",children:[(0,m.jsx)(l.uRN,{className:"ml-3 md:ml-6"}),"Name"]}),(0,m.jsx)(o.gN,{type:"text",name:"name",id:"name",placeholder:"Enter name",className:"".concat(e?" text-darkFontDark bg-sky-900 placeholder:text-darkFontDark ":" text-darkFont bg-lightPartsColor placeholder:text-darkFont ","text-center mx-auto w-11/12 py-1 px-5 rounded-sm h-12 \n          border-0 outline-none   \n           placeholder:font-extralight\n         md:w-10/12    md:h-10 text-xl md:py-0.5 md:px-2 placeholder:opacity-50 \n           ssm:text-base  font-light  transition-all  2xl2:text-2xl")}),(0,m.jsxs)("label",{htmlFor:"phone",className:"mt-1 text-xl flex items-center gap-2 md:ml-2 md:w-10/12\n      md:text-4 font-light md2:text-xs",children:[(0,m.jsx)(s.faY,{className:"ml-3 md:ml-6 w-[14px] h-[14px]"}),"Phone Number"]}),(0,m.jsx)(o.gN,{type:"tel",name:"phone",id:"phone",placeholder:"Enter phone number",className:"".concat(e?" text-darkFontDark bg-sky-900 placeholder:text-darkFontDark  ":" text-darkFont bg-lightPartsColor placeholder:text-darkFont  "," text-center w-11/12 py-1 px-5 rounded-sm h-12 \n        border-0 outline-none mx-auto  \n        md:w-10/12  text-xl md:h-10 md:py-0.5 md:px-2 placeholder:opacity-50 \n        ssm:text-base  placeholder:font-extralight font-light  transition-all 2xl2:text-2xl")})]})};function i(e){if(!e)return"";const t=e.replace(/\D/g,""),r=[/^(\d{2})(\d{3})(\d{3})(\d{4})$/,/^(\d{3})(\d{3})(\d{4})$/,/^(\d{3})(\d{4})$/];for(const o of r){const e=t.match(o);if(e)return e.slice(1).join("-")}return t}var x=r(8820),h=r(8016);const p=e=>{let{isLoading:t}=e;const{isThemeDark:r}=(0,d.F)();return(0,m.jsx)("button",{type:"submit",disabled:t,className:"".concat(r?"shadow-none hover:bg-buttonHoverColorDark text-buttonTextColorDark hover:text-lightPartsColorDark bg-buttonColorDark":"shadow-shadowBox hover:bg-buttonHoverColor text-buttonTextColor bg-buttonColor"," text-center font-light w-40 h-11 rounded-sm border-none outline-none mx-auto cursor-pointer shadow-md flex items-center justify-around transition-all duration-30 ").concat("text-lg md:w-48"," ssm:w-40 ssm:h-10 md2:text-sm"),children:t?(0,m.jsx)(h.Z,{color:"".concat(r?"#3f78cc ":"#F5DEB3 "),size:"6px"}):(0,m.jsxs)(m.Fragment,{children:["Add Contact ",(0,m.jsx)(x.vM4,{})]})})},b=()=>(0,m.jsxs)("div",{className:"w-full flex justify-center font-extralight items-center flex-col  h-20 mt-2 md:text-base md:h-7 text-center",children:[(0,m.jsx)(o.Bc,{className:"text-xl text-errorMsg m-0 p-0 font-extralight items-center  md:w-10/12 md:text-base md2:text-sm",name:"name",component:"div"}),(0,m.jsx)(o.Bc,{className:"text-xl text-errorMsg m-0 p-0 font-extralight items-center  md:w-10/12 md:text-base md2:text-sm",name:"phone",component:"div"})]});var u=r(912);const g={name:"",phone:""},f=()=>{const{data:e}=(0,u.bC)(void 0),{isThemeDark:t}=(0,d.F)(),[r,{isLoading:l}]=(0,u.wf)();return(0,m.jsx)(o.J9,{initialValues:g,validationSchema:a.f,onSubmit:(t,o)=>{let{resetForm:a}=o;const{name:l,phone:s}=t;let d=i(s),m=l.split(" ").map((e=>{if(0===e.length)return"";const t=e[0],r=e.slice(1).toLowerCase();return t.toUpperCase()+r})).join(" ").trim();const c=Array.isArray(e)&&e.some((e=>e.name.toLowerCase()===m.toLowerCase())),x=Array.isArray(e)&&e.some((e=>i(e.number)===d));if(c&&x)return(0,n.wt)();r({name:m,number:d}),(0,n.UK)(),a()},children:(0,m.jsxs)(o.l0,{autoComplete:"off",className:"".concat(t?" shadow-shadowBoxDark from-smallWraperGradient1Dark to-smallWraperGradient2Dark ":" from-smallWraperGradient1 shadow-shadowBox to-smallWraperGradient2 ","  flex gap-2 flex-col w-1/3 py-20 pr-7 pl-5 rounded-sm\n          shadow-lg bg-gradient-to-tr md:py-12 md:px-5 md:min-h-0 md:w-[99%]\n          transition-all  overflow-hidden ssm2:w-12/12 ssm2:py-6 ssm2:m-0 ssm2:pt-16"),children:[(0,m.jsx)("h1",{className:"text-center text-3xl m-0 md:text-xl md2:text-xl font-normal",children:"Add Contact Field"}),(0,m.jsx)(c,{}),(0,m.jsx)(b,{}),(0,m.jsx)(p,{isLoading:l})]})})};var k=r(2791),w=r(4420);const C=window.innerWidth,j={overlay:{position:"fixed",zIndex:999,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(250, 250, 210, 0.5)"},content:{position:"absolute",top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"1px solid #ccc",background:"rgb(245, 187, 86)",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:C>768?"60px 40px":"20px 10px"}},D={overlay:{position:"fixed",zIndex:999,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(48, 45, 62, 0.3)"},content:{position:"absolute",top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"1px solid #ccc",background:"rgb(4, 23, 55)",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:C>768?"60px 40px":"20px 10px"}};var v=r(7948),N=r.n(v);N().setAppElement("#root");const y=e=>{let{contact:t,modalIsOpen:r,closeModal:o,handleDelete:a}=e;const{isThemeDark:n}=(0,d.F)(),l=(0,k.useRef)(null);return(0,m.jsxs)(N(),{style:n?D:j,isOpen:r,onRequestClose:o,contentLabel:"Delete Confirmation",className:"md:w-[290px] md:p-6 md3:w-[420px] md3:p-12",children:[(0,m.jsxs)("h2",{ref:l,className:"".concat(n?"text-darkFontDark":"text-darkFont"," text-center   text-2xl md:text-sm "),children:["Delete contact"," ",(0,m.jsx)("span",{className:"font-bold text-green-700",children:t.name}),"?"]}),(0,m.jsxs)("div",{className:"flex jusrify-center items-center mx-auto mt-10  md:mt-6 gap-1 ",children:[(0,m.jsx)("button",{onClick:()=>a(t.id),className:"".concat(n?" bg-deleteBtnColorDark hover:bg-deleteBtnHoverColorDark text-darkFontDark ":" bg-deleteBtnColor hover:bg-deleteBtnHoverColor text-lightPartsColor ","text-4  \n            border-none py-3 px-10 rounded-0.5 cursor-pointer \n            duration-300 mx-auto  md:py-2 md:px-5\n             font-light 2xl:text-xl"),children:"Delete"}),(0,m.jsx)("button",{onClick:o,className:"".concat(n?" bg-buttonColorDark text-darkFontDark hover:text-lightPartsColorDark hover:bg-buttonHoverColorDark ":" bg-buttonColor text-lightPartsColor hover:bg-buttonHoverColor ","text-4  \n            border-none py-3 px-10 rounded-0.5 cursor-pointer \n            duration-300 mx-auto  md:py-2 md:px-5\n            font-light 2xl:text-xl"),children:"Cancel"})]})]})},F=e=>{let{contact:t,index:r}=e;const{isThemeDark:o}=(0,d.F)(),a=window.innerWidth,[n,l]=(0,k.useState)(!1),[s,{isLoading:c}]=(0,u.Nt)();return(0,m.jsxs)("tr",{className:"".concat(o?" border-tableBorderColorDark ":" border-tableBorderColor "," border-b-2  "),children:[(0,m.jsx)("td",{width:"5%",className:"".concat(o?" bg-lightPartsColorDark ":" bg-lightPartsColor ","p-1 text-cente pl-4 ssm2:pl-2"),children:r+1}),(0,m.jsx)("td",{width:"44%",className:"".concat(o?" bg-lightPartsColorDark ":" bg-lightPartsColor ","p-1 text-center  user-selectable  md:text-md   "),children:t.name}),(0,m.jsx)("td",{width:"42%",className:"".concat(o?" bg-lightPartsColorDark ":" bg-lightPartsColor ","p-1 text-center   md:text-md  user-selectable "),children:i(t.number)}),(0,m.jsx)("td",{width:"15%",className:"".concat(o?" bg-lightPartsColorDark ":" bg-lightPartsColor "," p-1 text-center   md:text-md   pr-3 1xl2:pr-6 "),children:(0,m.jsx)("button",{id:"delete-btn",onClick:()=>{l(!0)},disabled:c,className:" ".concat(o?" bg-buttonColorDark hover:bg-buttonHoverColorDark text-lightPartsColorDark hover:text-darkFontDark":" bg-buttonColor hover:bg-buttonHoverColor text-lightPartsColor "," mx-auto border-none 1xl2:text-lg\n           py-1 px-2 min-w-[50px] min-h-[28px] text-xs cursor-pointer \n           duration-300 flex text-center items-center \n            rounded-sm font-light justify-center sm:min-h-[20px] sm:min-w-[30px]"),children:c?(0,m.jsx)(h.Z,{color:"".concat(o?"#3f78cc ":"#F5DEB3 "),size:"2px"}):a<768?(0,m.jsx)(x.Psi,{style:{marginRight:"4px"}}):"Delete"})}),(0,m.jsx)(y,{contact:t,modalIsOpen:n,closeModal:()=>{l(!1)},handleDelete:e=>{s({id:e}),l(!1)}})]})},P=e=>e.filter.filterValue,B=()=>{const{isThemeDark:e}=(0,d.F)();return(0,m.jsx)("thead",{className:"text-lg  right-0 left-0 top-0 w-full  1xl2:text-2xl",children:(0,m.jsxs)("tr",{className:"".concat(e?"border-tableBorderColorDark ":"border-tableBorderColor "," border-b-2  "),children:[(0,m.jsx)("th",{className:"".concat(e?"bg-tableHeaderBackgroundDark  text-darkFontDark ":"bg-tableHeaderBackground text-darkFont "," items-center  \n           font-bold min-w-4 p-2 md:p-0.5 w-[7%]"),children:"#"}),(0,m.jsx)("th",{className:"".concat(e?"bg-tableHeaderBackgroundDark text-darkFontDark ":"bg-tableHeaderBackground text-darkFont "," items-center \n           font-bold min-w-4 p-2 md:p-0.5  w-[40%]"),children:"Name"}),(0,m.jsx)("th",{className:"".concat(e?"bg-tableHeaderBackgroundDark text-darkFontDark ":"bg-tableHeaderBackground text-darkFont ","items-center  \n           font-bold min-w-4 p-2 md:p-0.5  w-[42%]"),children:"Phone Number"}),(0,m.jsx)("th",{className:"".concat(e?"bg-tableHeaderBackgroundDark  text-darkFontDark ":" bg-tableHeaderBackground text-darkFont ","items-center  \n           font-bold min-w-4 p-2 md:p-0.5  pr-3  1xl2:pr-7 w-[15%]"),children:"Action"})]})})},H=e=>{let{data:t,error:r,isLoading:o}=e;const a=(0,w.v9)(P),{isThemeDark:n}=(0,d.F)(),l=(0,k.useMemo)((()=>{const e=a.toLowerCase();if(!Array.isArray(t))return[];return[...t.filter((t=>t.name.toLowerCase().includes(e)||t.number.toLowerCase().includes(e)))].sort(((e,t)=>e.name.localeCompare(t.name)))}),[t,a]);return(0,m.jsxs)("div",{className:"overflow-x-auto  w-[92%] ssm2:w-12/12 ssm2:p-0 ssm2:m-0 ssm2:pb-10 ",children:[(0,m.jsxs)("div",{className:"h-6",children:[o&&!t&&(0,m.jsx)("p",{className:"text-center font-light text-xs",children:"Loading..."}),!o&&t&&0===t.length&&(0,m.jsx)("p",{className:"text-center font-light text-base",children:"No contacts found."}),r&&(0,m.jsx)("p",{className:"text-center font-light text-base",children:"Error fetching contacts. Please try again later."})]}),(0,m.jsxs)("table",{className:"".concat(n?"border-tableBorderColorDark ":"border-tableBorderColor "," border-2  border-collapese \n        mt-5 mb-5 block mx-auto overflow-auto w-full h-[490px] \n         ssm2:w-12/12 ssm2:p-0 ssm2:m-0 ssm2:text-base"),children:[(0,m.jsx)(B,{}),(0,m.jsx)("tbody",{className:"max-h-fit max-w-full  text-xl ssm:text-base    ssm2:text-lg  1xl2:text-2xl",children:!r&&l.map(((e,t)=>(0,m.jsx)(F,{contact:e,index:t},e.id)))})]})]})};var L=r(6751),_=r(1578);const W=()=>{const e=(0,w.I0)(),t=(0,w.v9)(P),{isThemeDark:r}=(0,d.F)(),o="".concat(r?" bg-sky-900 text-darkFontDark placeholder:text-filterPlaceholderColorDark ":"bg-lightPartsColor text-darkFont placeholder:text-filterPlaceholderColor  "," ").concat("placeholder:opacity-50 flex text-m border-none outline-none w-11/12 max-w-[480px]\n         h-10 rounded mx-auto opacity-70 text-center py-0.5 pr-2 pl-12 placeholder:text-center \n         placeholder:py-1 placeholder:px-5 md:w-[90%] \n          md:pl-10 ssm:pl-1 text-xl placeholder:font-light font-light transition-all\n           placeholder:ssm:text-base"),a="\n        ".concat(r?" text-filterPlaceholderColorDark ":" text-filterPlaceholderColor "," ").concat("absolute w-4 h-4 opacity-40 top-3.5 md:left-10 left-14 1xl2:left-12\n        z-10 md:w-5 md:h-5  ssm:hidden   transition-all ","\n        "),n="".concat(r?"bg-tableHeaderBackgroundDark":"bg-filterLabelColor","  ").concat("w-[60%] mx-auto mb-2 \n    mt-5 py-1 px-5 rounded-0.5 flex md:w-[85%] md:text-3 md:py-1\n    md:px-2 md2:w-[85%] transition-all relative");return(0,m.jsxs)("label",{className:n,children:[(0,m.jsx)(_.VrF,{className:a}),(0,m.jsx)("input",{placeholder:"Enter name for filter",type:"text",value:t,onChange:t=>{const r=t.target.value;e((0,L.Qt)(r))},className:o})]})},q=e=>{let{data:t,error:r,isLoading:o}=e;const{isThemeDark:a}=(0,d.F)(),n=a?" shadow-shadowBoxDark from-smallWraperGradient1Dark to-smallWraperGradient2Dark ":" shadow-shadowBox from-smallWraperGradient1 to-smallWraperGradient2 ";return(0,m.jsxs)("div",{className:"".concat(n," \n      w-8/12 flex justify-center items-center flex-col\n      px-5 pr-4 rounded-sm shadow-lg min-h-562 ssm:min-h-762\n      select-none bg-gradient-to-tr\n      relative md:mt-3 md:pt-0 md:pb-7 md:px-1 md2:px-2 md:w-11/12\n      transition-all ssm2:w-full ssm2:p-0 ssm2:mt-2"),children:[(0,m.jsx)(W,{}),(0,m.jsx)(H,{data:t,error:r,isLoading:o})]})};var A=r(4270);const T=()=>{const{data:e,isLoading:t,error:r}=(0,u.bC)(void 0),o=!!r;return(0,m.jsxs)("div",{className:"flex gap-4 sm:gap-0 justify-around mx-auto  w-11/12   p-14 md3:p-4 1xl2:mt-5  ssm:pt-4  rounded shadow-xl md:flex-col md:items-center md:text-base md:px-1.5 md:w-11/12 text-xl min-h-482 ssm:min-h-762 select-none  bg-gradient-to-tl  relative ssm2:w-[100%] ssm2:p-0  ssm2:m-0 ",children:[(0,m.jsx)(A.q,{children:(0,m.jsx)("title",{children:"Stone-Contacts"})}),(0,m.jsx)(f,{}),(0,m.jsx)(q,{data:e,error:o,isLoading:t})]})}}}]);
//# sourceMappingURL=458.03bb04a4.chunk.js.map